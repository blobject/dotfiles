## vars
$browser = firefox
$editor = kak
$terminal = footclient

$colorx = 000000
$colorb = 3c56aa
$colorK = 575a61

## env
env = DBUS_SESSION_BUS_ADDRESS,unix:path=$XDG_RUNTIME_DIR/bus
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_CURRENT_SESSION,Hyprland
# toolkit
env = CLUTTER_BACKEND,wayland
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = GDK_BACKEND,wayland,x11,*
env = GDK_DPI_SCALE,1.75
env = _JAVA_AWT_WM_NONREPARENTING,1
env = MOZ_DISABLE_RDD_SANDBOX,1
env = MOZ_ENABLE_WAYLAND,1
env = OZONE_PLATFORM,wayland
env = QT_QPA_PLATFORM,wayland;xcb
# x
env = XCURSOR_SIZE,64
env = XCURSOR_THEME,Breeze_Snow
env = XKB_DEFAULT_LAYOUT,hsnt
# hypr
env = HYPRCURSOR_SIZE,64

## autostart
exec-once = dbus-daemon --session --address=$DBUS_SESSION_BUS_ADDRESS &
exec-once = dbus-update-activation-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = foot --server --log-level=warning &
exec-once = gsettings set org.gnome.desktop.interface cursor-theme Breeze_Snow
exec-once = gsettings set org.gnome.desktop.interface cursor-size 64
exec-once = gsettings set org.gnome.desktop.interface font-name 'sans 10'
exec-once = gsettings set org.gnome.desktop.interface gtk-theme Adwaita
exec-once = gsettings set org.gnome.desktop.interface icon-theme Papirus
exec-once = gsettings set org.gnome.nautilus.list-view default-visible-columns '["name"]'
exec-once = sudo light -S 30
exec-once = xrdb -merge $HOME/.xresources
exec-once = 0s snooze
exec-once = 0s temper
exec-once = swaybg --mode center --image $HOME/cfg/opt/_shell/back.png &
exec-once = gammastep-indicator -l manual -l 1.28:103.85 -m wayland -t 5500K:4800K &
exec-once = hyperidle &
exec-once = iwgtk --indicators &
exec-once = kanshi &
exec-once = mako &
exec-once = pipewire &
exec-once = { sleep 1 && pipewire-pulse; } &
exec-once = { sleep 2 && wireplumber; } &
exec-once = { sleep 3 && waybar; } &
exec-once = { sleep 4 && blueman-applet; } &
#exec-once = 0xdp &

## monitor
monitor = , preferred, auto, 1

## look
general {
  allow_tearing = false
  border_size = 8
  col.active_border = rgb($colorb)
  col.inactive_border = rgb($colorK)
  extend_border_grab_area = 32
  gaps_in = 0
  gaps_out = 0
  layout = dwindle
  resize_on_border = true
}

decoration {
  rounding = 0
  active_opacity = 1.0
  inactive_opacity = 1.0
  drop_shadow = false
  blur {
    enabled = true
    size = 3
    passes = 1
    vibrancy = 0.1696
  }
}

animations {
  enabled = true
  bezier = easeinoutcubic, 0.65, 0, 0.35, 1
  animation = windows, 1, 2, easeinoutcubic
  animation = windowsOut, 1, 2, default, popin 80%
  animation = border, 1, 2, default
  animation = borderangle, 1, 2, default
  animation = fade, 1, 1, default
  animation = workspaces, 1, 3, default
}

dwindle {
  pseudotile = true
  preserve_split = true
}

master {
  new_status = master
}

misc {
  background_color = rgb($colorx)
  disable_hyprland_logo = true
  force_default_wallpaper = 0
  new_window_takes_over_fullscreen = 2
}

input {
  kb_layout = hsnt
  kb_variant =
  kb_model =
  kb_options =
  kb_rules =
  follow_mouse = 2
  repeat_rate = 40
  repeat_delay = 200
  sensitivity = 0
  touchpad {
    natural_scroll = true
  }
}

gestures {
  workspace_swipe = false
}

device {
  name = proclickm-mouse
  sensitivity = -0.4
}

device {
  name = elan0670:00-04f3:3150-touchpad
  sensitivity = 0.1
}

## bind
bind = SUPER SHIFT, escape, killactive
bind = CONTROL ALT SHIFT, backspace, exit,
bind = SUPER SHIFT, R, exec, hyprctl reload
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER, H, movefocus, l
bind = SUPER, L, movefocus, r
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, L, movewindow, r
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, J, movewindow, d
bind = SUPER, backspace, togglespecialworkspace, magic
bind = SUPER SHIFT, backspace, movetoworkspace, special:magic
bindm = ALT, mouse:272, movewindow
bindm = ALT, mouse:273, resizewindow
bindm = SUPER, mouse:272, resizewindow
bind = SUPER, R, submap, resize
submap = resize
binde = , H, resizeactive, -8 0
binde = , J, resizeactive, 0 8
binde = , K, resizeactive, 0 -8
binde = , L, resizeactive, 8 0
binde = SHIFT, H, resizeactive, -64 0
binde = SHIFT, J, resizeactive, 0 64
binde = SHIFT, K, resizeactive, 0 -64
binde = SHIFT, L, resizeactive, 64 0
bind = , escape, submap, reset
bind = , return, submap, reset
bind = , space, submap, reset
submap = reset
bind = SUPER, comma, togglefloating
bind = SUPER, semicolon, togglesplit # dwindle
bind = SUPER SHIFT, semicolon, pseudo # dwindle
bind = SUPER, F, fullscreenstate, 1
bind = SUPER SHIFT, F, fullscreen
#bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
#bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
#bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
#bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = , XF86AudioMute, exec, 0t vol x
bindel = , XF86AudioLowerVolume, exec, 0t vol -2
bindel = , XF86AudioRaiseVolume, exec, 0t vol +2
bindel = , XF86AudioMicMute, exec, 0t vol mic x
bindel = SHIFT, XF86AudioMute, exec, 0t vol usb x
bindel = SHIFT, XF86AudioLowerVolume, exec, 0t vol usb -2
bindel = SHIFT, XF86AudioRaiseVolume, exec, 0t vol usb +2
bindel = SHIFT, XF86AudioMicMute, exec, 0t vol usb mic x
bindel = CONTROL, XF86AudioMute, exec, 0t vol bt x
bindel = CONTROL, XF86AudioLowerVolume, exec, 0t vol bt -2
bindel = CONTROL, XF86AudioRaiseVolume, exec, 0t vol bt +2
bindel = CONTROL, XF86AudioMicMute, exec, 0t vol bt mic x
bindel = , XF86MonBrightnessDown, exec, 0t _lum -
bindel = , XF86MonBrightnessUp, exec, 0t _lum +
bind = , XF86NotificationCenter, exec, 0t shot s png
bind = SHIFT, XF86NotificationCenter, exec, 0t shot e png
bind = , XF86Favorites, exec, 0s tlp
bind = CONTROL ALT, backspace, exec, 0s bye lock
bind = CONTROL ALT, delete, exec, 0s bye sleep
bind = SUPER, space, exec, makoctl dismiss --group
bind = SUPER SHIFT, space, exec, makoctl dismiss --all
bind = SUPER ALT, space, exec, makoctl restore
bind = SUPER, return, exec, 0t _run &
bind = SUPER, E, exec, $terminal $editor &
bind = SUPER, T, exec, $terminal &
bind = SUPER, W, exec, $browser -P f0 &
bind = SUPER SHIFT, W, exec, google-chrome-stable &
bind = SUPER ALT, W, exec, 0t _firefox &

## rule
windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = nofocus, class:^$, title:^$, xwayland:1, floating:1, fullscreen:0, pinned:0
windowrulev2 = float, noinitialfocus, class:^Firefox$, title:^$, initialClass:^Firefox$
