* dotfiles

*** screenshot

[[/ext/screenshot.jpg]]

counter-clockwise from northwest:
[[https://github.com/Alexays/Waybar][waybar]],
[[https://codeberg.org/dnkl/foot][foot]] ([[https://github.com/dylanaraps/pfetch][pfetch]]),
[[https://wayland.emersion.fr/grim/][grim]]+[[https://wayland.emersion.fr/slurp/][slurp]],
[[https://codeberg.org/dnkl/fnott][fnott]].

*** selection

| class | instance |
|-------|-------------|
| hw | [[https://github.com/nekr0z/linux-on-huawei-matebook-13-2019][matebook 13]], [[https://github.com/foostan/crkbd][corne]], [[https://xtrfy.com/mice/mz1-wireless/][mz1]], [[https://us.aoc.com/en-US/products/monitors/i1601fwux][i1601fwux]] |
| env | [[https://voidlinux.org/][void]] [[https://www.kernel.org/][linux]], [[https://labwc.github.io/][labwc]], [[https://www.gnu.org/software/bash/][bash]], [[https://www.tcl.tk/][tcl]] |
| look | 2160x1440, 100dpi, font size ~20pt, [[https://picaq.github.io/sarasa/][sarasa]], [[https://github.com/blobject/agave][agave]], [[https://rsms.me/inter/][inter]], [[https://fontawesome.com/][font awesome]], [[https://github.com/blobject/cemant][cemant]] |

*** scripts

| name | description |
|------|-------------|
| *[[__shell/bin/00][00]]* | *run* file(s) based on mimetype (like =xdg-open=) |
| *[[__shell/bin/0a][0a]]* | *list* and *launch* =.desktop= files (dmenu companion) |
| *[[__shell/bin/0l][0l]]* | read *log* |
| *[[__shell/bin/0m][0m]]* | wrap [[https://www.x.org/wiki/Projects/XRandR/][xrandr]] |
| *[[__shell/bin/0s][0s]]* | *system* utilities |
| *[[__shell/bin/0t][0t]]* | graphical *shell* utilities |
| *[[__shell/bin/0v][0v]]* | wrap [[https://www.qemu.org/][qemu]] |
| *[[__shell/bin/0tcl][0tcl]]* | like =sh -c= but for tcl |
| *[[__shell/bin/lib.tcl][lib.tcl]]* | *help* other =0*= tcl scripts |

*** keybinding

| key template | key more | do |
|--------------|----------|----|

| | | /GENERAL, MOVE, RESIZE/ |
|-|-|-------------------------|
| =MS-r= | | *reconfigure* |
| =CA-back= | | *lock* |
| =M/A-L= | | *resize* / *move* window |
| =MS-esc= | | *close* window |
| =MS-= *num* | =1= / =2= / =3= / =4= | *move* window to *nth* desktop |
| =M[S]-= *dir* | =h= / =j= / =k= / =l= / =y= / =u= / =b= / =n= | *move* [ and *snap* ] window to edge |
| =M[S]-f= | | *maximise* [ *fullscreen* ] toggle |

| | | /FOCUS/ |
|-|-|---------|
| =M-= *num* | =1= / =2= / =3= / =4= | *focus nth* desktop |
| =A[S]-tab= | | cycle *focus* [ *backwards* ] |
| =M-a= | | toggle *always on top* |

| | | /APP/ |
|-|-|-------|
| =[S]-print= | | *take picture* of *screen* [ then *edit* ] |
| =M-space= | | *dismiss* notification |
| =M-= *char* | =enter= / =e= / =t= / =w= | launch *launcher* / *editor* / *terminal* / *www* |

*** steps

- initial ::
1. *fs:* 512m vfat efi, swap as file
1. *boot:* refind, remove grub
1. *sec:* copy (not link!): =/etc/sudoers.d/*=
  - be wary of syntax and permissions
1. *net:* installer already set up wpa_supplicant stuff, so reuse it
  - ~wpa_supplicant -i $dev -c /etc/wpa_supplicant/wpa_supplicant-$dev.conf~
  - =/etc/dhcpcd.conf=: cloudflare dns servers
1. *kbd:* =/usr/share/{kbd/keymaps/i386,X11/xkb/symbols}/*=
1. *repo:* void-repo-{multilib,nonfree}{-nonfree,}
1. /immediate goodness:/ bash-completion, chronyd, socklog, tlp
  - link: =/etc/rc.conf=
  - link: =/etc/tlp.d=

- "usable" ::
1. *shell:*
  - ~touch /etc/sv/agetty-tty[3-6]/down~, remove from =/var/service/=
  - /cmdline:/ fd, git, mercurial, ripgrep, tmux, tcl
  - /util:/ lz4, p7zip, rlwrap, stow, zip
  - stow will link the maximally existent path, so any addition to an over-inclusive dir link will begin to reside in the stowed (ie. this) repository -- hence the mkdirs in =stow.tcl= to make sure only the desired subtrees (usually leaves and singletons) become links
1. *hw:*
  - /blob:/ various firmware, intel-ucode
  - /driver:/ intel-video-accel, mesa-dri, mesa-vulkan-intel, xf86-input-mtrack
  - /util:/ smartmontools
1. *sess:*
  - /service:/ sddm, seatd, xorg-minimal, xwayland
  - /util:/ foot, setxkbmap, xrdb, xset, xterm
  - /wm:/ cwm, labwc
  - links: =/etc/sddm.conf.d/*=, =/etc/X11/xorg.conf.d/*=, =/usr/share/sddm/scripts/Xsetup=
  - to start sessions without logind or pam's help, create =/run/user/$UID= using =/etc/rc.local=, then set =$XDG_RUNTIME_DIR= to it in =~/.profile=
1. *edit:*
  - emacs, kakoune, vim
1. *util:*
  - /fs:/ exfat-fuse, jmtpfs, lftp, rsync
  - /look:/ gammastep-indicator, kanshi, light, xrandr
  - /monitor:/ blueman-tray, fnott, libappindicator, polybar, psmisc, snooze, waybar, wpa_gui
  - /shell:/ swaylock, tofi, wev, wl-clipboard, xdg-utils
  - =~/.config/mimeapps.list=: mime handling
1. *media:*
  - /audio:/ pipewire, wireplumber
  - /video:/ ffmpeg, mpv
  - /lib:/ alsa-pipewire, gstreamer1-pipewire, libspa-bluetooth, libspa-ffmpeg, libspa-v4l2, libspa-vulkan, xdg-desktop-portal-wlr
  - /util:/ ponymix, pavucontrol
  - ~ln -s /usr/share/alsa/alsa.conf.d/*-pipewire*.conf /etc/alsa/conf.d/~
  - ~cp /usr/share/pipewire/pipewire.conf ~/.config/pipewire/~ and disable pipewire-media-session

- more ::
1. *dev:*
  - /lang:/ base-devel, clang, llvm, chez, elixir, ghc, go, guile, lua, mono, nodejs, octave, openjdk, python3-devel+pip, r, rustup, sbcl, squeak, swi-prolog, tk
  - /util:/ broot, catch2, cmake, docker, gdb, msbuild, powertop, valgrind
1. *app:*
  - /doc:/ foliate, gnuplot, libreoffice, pdf.js, texlive-most, zathura
  - /image:/ blender, gimp, imagemagick, imv, inkscape, grim, slurp, swappy, wf-recorder
  - /look:/ breeze-snow-cursor-theme, hsetroot, papirus-icon-theme, qt5ct
  - /net:/ firefox
  - /sec:/ gnupg2
  - /fun:/ cataclysm-dda, fontforge, qemu
1. *kernel:* dracut, some headers (libelf) to make =make= work
  - keep sound modular, headphone mic misbehaves otherwise
  - links: =/etc/modprobe.d/*=, =/etc/sysctl.d/*=

- manual ::
- place executable-onlies in =~/bin/=, and more involved applications in =~/.local/bin/= or =/usr/local/= with edited =/etc/ld.so.conf.d/=
- /pip:/ meson, ninja

- groups ::
wheel, lp, audio, video, cdrom, optical, kvm, users, xbuilder, _seatd, docker, bluetooth, socklog

- daemons ::
acpid, agetty-*, bluetoothd, dbus, dhcpcd, nanoklogd, ntpd, sddm, seatd, socklog-unix, tlp, udevd, uuidd, wpa_supplicant

- kernel modules ::
builtin/virtual audio, usb bluetooth, ASIX usb ethernet, builtin wifi

- dualboot win ::
- timezone: configure win to be UTC
- battery threshold: configure thresholds via matebook applet on win
- bluetooth profiles: either mess with link keys on both systems, or clear/repair every time
